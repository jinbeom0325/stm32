### DMA

CPU 개입 없이 데이터를 전송하는 기능

백그라운드에서 동작 -> CPU는 다른 작업 수행 가능

전송이 완료되면 인터럽트 발생 -> 효율적인 대용량 데이터 처리 가능

### DMA 구성 요소
- STM32F4/F7 계열은 2개의 DMA 컨트롤러를 가짐

- 각 DMA 컨트롤러는 8개의 스트림(Stream) 존재

- 각 스트림은 8개의 채널(Channel) 선택 가능

스트림(Stream): 데이터 전송 경로

채널(Channel): 각 스트림에서 어떤 장치와 연결될지 결정

예시: SPI3 수신 → DMA1의 Stream0, Channel0 사용(데이터시트/레퍼런스 매뉴얼의 DMA 테이블 참고)

### DMA 주요 설정 항목

항목 | 설명
--|--
스트림/채널 | 어떤 스트림과 채널을 쓸지 선택
우선순위 | 스트림 간 우선순위 (Software 설정 가능)
소스/목적지 주소 | 어디서 어디로 데이터를 옮길지 설정
주소 증가 여부 | 배열 등에 저장 시 주소 자동 증가 여부
전송 크기 | 몇 바이트씩 옮길 것인지 (8/16/32bit)
전송 모드 | Normal (1회), Circular (반복)
FIFO 모드 | 임시 저장공간 활용, 버스트 전송 등 지원
Burst 모드 | 여러 데이터 묶어서 빠르게 전송
Double Buffer | 두 버퍼를 번갈아 사용 (빠른 연속 전송)
전송 방향 | 메모리→주변장치, 주변장치→메모리, 메모리↔메모리(DMA2에서만)

FIFO (First-In-First-Out) 모드
- 데이터를 임시로 저장해 더 효율적으로 전송
- 데이터 패킹/언패킹, 버스트 전송 등 가능
- SRAM 접근 횟수 감소, 전송 효율 증가

DMA 우선순위
- 소프트웨어 우선순위 설정 가능
- 같은 우선순위일 경우, 스트림 번호가 낮을수록 우선

